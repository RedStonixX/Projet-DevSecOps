<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Changer le mot de passe</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
</head>
<body>
    <div id="container">
        <div id="a1"><div id="a11"></div></div>
        <div id="a2"><div id="a21"></div></div>
        <div id="a3"></div>
        <div id="a4"></div>
        <div id="a5"></div>
        <div id="a6">Pro Cyber - [ School ]</div>
        <div id="a7">
            <span id="a71">@Cyber</span>
            <span id="a73">
                <b class="a731">19</b>
                <b class="a732">29</b>
            </span>
            <span id="a74">
                <b class="a741">30/</b>
                <b class="a742">06/</b>
                <b class="a743">2012</b>
            </span>
            <span id="a76">Cyber Security</span>
        </div>
        <div id="a8"><div id="a81"></div></div>
        <div id="a9">
            <span>12456</span>:
            <span>123456789</span>.
            <span>12456</span>:
            <span>123456789</span>&nbsp;
            <span>12456</span>
        </div>
        <div id="a10">Live Networks<span></span></div>
        <div id="b1">
            <span class="b11"></span>
            <span class="b12"></span>
            <span class="b13"></span>
            <span class="b14"></span>
            <span class="b15"></span>
            <span class="b16"></span>
            <span class="b17"></span>
            <span class="b18"></span>
            <span class="b19"></span>
            <span class="b110"></span>
        </div>
        <div id="figure">
            <div id="a7">
                <span id="a71">@umarcbs</span>
                <span id="a73">
                    <b class="a731">19</b>
                    <b class="a732">29</b>
                </span>
                <span id="a74">
                    <b class="a741">30/</b>
                    <b class="a742">06/</b>
                    <b class="a743">2012</b>
                </span>
                <span id="a76">Live Networks</span>
            </div>
            <div id="f1"></div>
            <div id="f2"></div>
            <div id="f3">
                <div id="f31"><span class="f311"><b></b></span><span class="f312"><b></b></span></div>
                <div id="f32"><span class="f321"></span><span class="f322"></span></div>
                <div id="f33"></div>
                <div id="f34"></div>
            </div>
            <div id="f4">
                <div id="f41"></div>
                <div id="f42"></div>
                <div id="f43" class="f431"></div>
                <div id="f43" class="f432"></div>
                <div id="f43" class="f433"></div>
                <div id="f43" class="f434"></div>
            </div>
            <div id="f5"></div>
            <div id="f6"></div>
            <div id="f7">
                <div id="f71"></div>
                <div id="f72"></div>
            </div>
            <div id="f8">
                <div id="f81"></div>
                <div id="f82"></div>
            </div>
            <div id="f9"><span></span></div>
        </div>
        <div class="login-container">
            <h1 class="login-title">Changer le mot de passe</h1>
            <form action="{{ url_for('main.change_password') }}" method="POST" class="login-form" onsubmit="return validatePassword()">
                <div class="input-group">
                    <label for="new_password">Nouveau mot de passe</label>
                    <input type="password" id="new_password" name="new_password" placeholder="Nouveau mot de passe" required>
                </div>
                <button type="submit" class="btn btn-primary">Changer le mot de passe</button>
                <div id="passwordError" class="text-danger mt-2" style="display: none;">Le mot de passe doit contenir au moins 8 caractères, un chiffre, une majuscule et un caractère spécial.</div>
            </form>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-1.7.2.min.js" integrity="sha384-SDFvKZaD/OapoAVqhWJM8vThqq+NQWczamziIoxiMYVNrVeUUrf2zhbsFvuHOrAh" crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='js/login.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>
        function validatePassword() {
            const password = document.getElementById('new_password').value;
            const passwordError = document.getElementById('passwordError');
            const regex = /^(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*()_+{}\[\]:;<>,.?~\\/-])(?=.{8,})/;

            if (!regex.test(password)) {
                passwordError.style.display = 'block';
                return false;
            }

            passwordError.style.display = 'none';
            return true;
        }
    </script>
</body>
</html>